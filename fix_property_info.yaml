# AST pattern to fix PropertyInfo
# This adds visibility and parent_id fields after is_method field

id: fix-property-info
language: rust
rule:
  pattern: PropertyInfo {
    $$name,
    $$type_id,
    $$write_type,
    $$optional,
    $$readonly,
    is_method: $$is_method,
    $$rest
  }
fix: |
  PropertyInfo {
      $$name,
      $$type_id,
      $$write_type,
      $$optional,
      $$readonly,
      is_method: $$is_method,
      visibility: Visibility::Public,
      parent_id: None,
      $$rest
  }
